<div class="min-h-screen bg-base-200 flex flex-col">
  <div class="navbar bg-base-100 border-b border-base-300 px-4 sticky top-0 z-20">
    <div class="flex-1">
      <a class="btn btn-ghost text-lg font-black tracking-tight" routerLink="/tariffs">TarifasCO</a>
      <ul class="menu menu-horizontal px-1 hidden lg:flex lg:mr-6 gap-2">
        <li><a class="px-4" routerLink="/tariffs" routerLinkActive="menu-active">Tarifas</a></li>
        <li><a class="px-4" routerLink="/invoices" routerLinkActive="menu-active">Facturas</a></li>
        @if (isAdmin()) {
          <li><a class="px-4" routerLink="/etl" routerLinkActive="menu-active">ETL</a></li>
          <li><a class="px-4" routerLink="/admin" routerLinkActive="menu-active">Admin</a></li>
        }
      </ul>
    </div>

    <div class="flex-none flex items-center gap-3">
      <button class="btn btn-sm btn-outline" (click)="theme.toggle()">
        Tema: {{ theme.theme() === 'winter' ? 'winter' : 'sunset' }}
      </button>

      @if (isAuthenticated()) {
        <div class="dropdown dropdown-end">
          <div tabindex="0" role="button" class="btn btn-sm btn-ghost gap-2">
            <div class="avatar placeholder">
              <div class="bg-primary text-primary-content rounded-full w-8 flex items-center justify-center">
                <span class="text-xs font-bold leading-none">{{ initials() }}</span>
              </div>
            </div>
            <span class="hidden md:inline max-w-40 truncate">{{ displayName() }}</span>
          </div>
          <ul tabindex="0" class="menu dropdown-content z-30 mt-2 p-2 shadow bg-base-100 rounded-box w-56 border border-base-300">
            <li><a routerLink="/auth/session">Mi perfil</a></li>
            <li><button type="button" (click)="logout()">Cerrar sesion</button></li>
          </ul>
        </div>
      } @else {
        <a class="btn btn-sm btn-primary" routerLink="/auth/login">Login</a>
      }
    </div>
  </div>

  <main class="max-w-7xl mx-auto p-4 w-full flex-1">
    <router-outlet></router-outlet>
  </main>

  <footer class="border-t border-base-300 bg-base-100 py-3 px-4 text-center text-sm opacity-80">
    prueba de Jose Velaides con &lt;3 para ISES
  </footer>
</div>

<app-toast-center></app-toast-center>
